import{s as Q,b as j,c as q}from"./VSnackbar-DiZdb8Pg.js";import{_ as x,V,a as g,c as A,d as D}from"./VCard-DhFcwaS3.js";import{a as h,V as d}from"./VRow-CqQF_g5u.js";import{a2 as y,b0 as N,aQ as $,r as M,o as i,c as k,w as a,a as e,d as n,aX as J,E as b,b1 as S,a6 as B,b3 as O,aZ as u,b5 as R,b4 as C,J as I,a7 as E,p as U,e as X,b as Z}from"./index-hMmlrNqw.js";const z={__name:"DisplayStand",setup(c){const p=new Q;let m=y([]),f=y([]),w=[t=>!!t||"Champ requis"],s=N({text:"",display:!1});$(()=>{L(),F()});function F(){document.getElementById("searchInput").addEventListener("keyup",t=>{t.key==="Enter"&&_()})}function T(){document.getElementById("searchInput").value="",_()}function L(){let t=p.getProducts();m.value=t,f.value=t}function P(t){let r=document.getElementById(t.id);const o=parseInt(r.value);if(r.value==""||o<1){v("Quantité invalide");return}p.addFoodToFridge(t,o).then(l=>{if(l.status==0){console.error("Erreur lors de l'ajout de l'article:",t);return}v(t.name+" ajouté au frigo")}).catch(l=>{console.error("Erreur lors de l'ajout de l'article:",l)})}function _(){let t=document.getElementById("searchInput").value,r=m.value.filter(o=>t==""?!0:o.name.toLowerCase().includes(t.toLowerCase()));r.length==0&&v("Aucun résultat trouvé"),f.value=r}function v(t){s.text=t,s.display=!0}return(t,r)=>{const o=M("v-number-input");return i(),k(b,null,{default:a(()=>[e(h,null,{default:a(()=>[e(d,{cols:"12"},{default:a(()=>[e(V,{class:"mx-auto",color:"tertiary"},{default:a(()=>[e(h,{align:"center"},{default:a(()=>[e(d,{cols:"4"},{default:a(()=>[e(g,null,{default:a(()=>[n("Produits disponibles")]),_:1})]),_:1}),e(d,{cols:"6"},{default:a(()=>[e(J,{id:"searchInput","prepend-inner-icon":"mdi-magnify",density:"compact",label:"Chercher dans le supermarché",variant:"solo","hide-details":"","single-line":"","onClick:prependInner":_,"onClick:clear":T,clearable:""})]),_:1})]),_:1}),e(b,{class:"supermarket-list"},{default:a(()=>[e(h,null,{default:a(()=>[(i(!0),S(B,null,O(u(f),l=>(i(),k(d,{key:l.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:a(()=>[e(V,{outlined:"",class:"pt-5"},{default:a(()=>[e(R,{src:l.photo,height:"150px"},null,8,["src"]),e(g,null,{default:a(()=>[n(C(l.name),1)]),_:2},1024),e(A,null,{default:a(()=>[e(o,{id:""+l.id,rules:u(w),min:1,max:20,"control-variant":"split",label:"Quantité","model-value":1,clearable:""},null,8,["id","rules"])]),_:2},1024),e(D,null,{default:a(()=>[e(j),e(I,{color:"success",onClick:Y=>P(l),class:"m-1 pr-3"},{prepend:a(()=>[e(E,{class:"mr-2"},{default:a(()=>[n("mdi-plus-circle")]),_:1}),n(" Acheter ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(q,{modelValue:u(s).display,"onUpdate:modelValue":r[1]||(r[1]=l=>u(s).display=l),color:"tertiary"},{actions:a(()=>[e(I,{color:"accent",variant:"text",onClick:r[0]||(r[0]=l=>u(s).display=!1)},{default:a(()=>[n(" Fermer ")]),_:1})]),default:a(()=>[n(C(u(s).text)+" ",1)]),_:1},8,["modelValue"])]),_:1})}}},G=x(z,[["__scopeId","data-v-f0fac745"]]),H=c=>(U("data-v-4d45cf6c"),c=c(),X(),c),K=H(()=>Z("span",{class:"text-h4"},"Bienvenue au Supermarché",-1)),W={__name:"Supermarket",setup(c){return(p,m)=>(i(),S(B,null,[e(E,{color:"warning",id:"main-icon"},{default:a(()=>[n("mdi-cart-outline")]),_:1}),K,e(G)],64))}},re=x(W,[["__scopeId","data-v-4d45cf6c"]]);export{re as default};
