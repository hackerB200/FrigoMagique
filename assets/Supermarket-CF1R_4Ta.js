import{m as ee,a as B,s as ae,b as te}from"./VOverlay-DlQV55Aw.js";import{_ as Y,V as D,a as L,c as ne,d as se}from"./VCard-BrMFPAmu.js";import{a as F,V as E}from"./VRow-DSIwTSFe.js";import{f as oe,j as le,k as re,l as ie,ar as ue,q as ce,af as de,s as me,W as ve,B as fe,aG as pe,t as _e,ax as ke,C as be,a2 as S,a1 as C,a9 as ye,b7 as Ve,aP as ge,ao as R,aQ as $,b8 as he,Y as Se,D as Ce,a,aB as xe,b9 as Pe,aD as we,K as M,aI as Te,_ as Ie,ba as Be,aL as De,ae as Le,b0 as N,r as Fe,o as V,c as j,w as n,d as m,aX as Ee,E as q,b1 as O,a6 as G,b3 as Re,aZ as f,b5 as Me,b4 as A,J as Q,a7 as K,V as Ne,p as je,e as qe,b as Ae}from"./index-CevbNeDL.js";function Qe(e){const c=C(e);let t=-1;function s(){clearInterval(t)}function u(){s(),Le(()=>c.value=e)}function p(v){const r=v?getComputedStyle(v):{transitionDuration:.2},i=parseFloat(r.transitionDuration)*1e3||200;if(s(),c.value<=0)return;const d=performance.now();t=window.setInterval(()=>{const o=performance.now()-d+i;c.value=Math.max(e-o,0),c.value<=0&&s()},i)}return Ie(s),{clear:s,time:c,start:p,reset:u}}const Ye=oe({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...le({location:"bottom"}),...re(),...ie(),...ue(),...ce(),...de(ee({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),$e=me()({name:"VSnackbar",props:Ye(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const s=ve(e,"modelValue"),{positionClasses:u}=fe(e),{scopeId:p}=pe(),{themeClasses:v}=_e(e),{colorClasses:r,colorStyles:i,variantClasses:d}=ke(e),{roundedClasses:o}=be(e),_=Qe(Number(e.timeout)),x=S(),P=S(),g=C(!1),w=C(0),T=S(),U=ye(Ve,void 0);ge(()=>!!U,()=>{const l=Be();De(()=>{T.value=l.mainStyles.value})}),R(s,b),R(()=>e.timeout,b),$(()=>{s.value&&b()});let h=-1;function b(){_.reset(),window.clearTimeout(h);const l=Number(e.timeout);if(!s.value||l===-1)return;const k=he(P.value);_.start(k),h=window.setTimeout(()=>{s.value=!1},l)}function H(){_.reset(),window.clearTimeout(h)}function J(){g.value=!0,H()}function W(){g.value=!1,b()}function X(l){w.value=l.touches[0].clientY}function Z(l){Math.abs(w.value-l.changedTouches[0].clientY)>50&&(s.value=!1)}const z=Se(()=>e.location.split(" ").reduce((l,k)=>(l[`v-snackbar--${k}`]=!0,l),{}));return Ce(()=>{const l=B.filterProps(e),k=!!(t.default||t.text||e.text);return a(B,M({ref:x,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},z.value,u.value,e.class],style:[T.value,e.style]},l,{modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,contentProps:M({class:["v-snackbar__wrapper",v.value,r.value,o.value,d.value],style:[i.value],onPointerenter:J,onPointerleave:W},l.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:X,onTouchend:Z},p),{default:()=>{var y,I;return[xe(!1,"v-snackbar"),e.timer&&!g.value&&a("div",{key:"timer",class:"v-snackbar__timer"},[a(Pe,{ref:P,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":_.time.value},null)]),k&&a("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((y=t.text)==null?void 0:y.call(t))??e.text,(I=t.default)==null?void 0:I.call(t)]),t.actions&&a(we,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[a("div",{class:"v-snackbar__actions"},[t.actions({isActive:s})])]})]},activator:t.activator})}),Te({},x)}}),Oe={__name:"DisplayStand",setup(e){const c=new ae;let t=N([]),s=[r=>!!r||"Champ requis"],u=N({text:"",display:!1});$(()=>{p()});function p(){t=c.getProducts()}function v(r){let i=document.getElementById(r.id);console.log("mange tes morts"+(i.value==""));const d=parseInt(i.value);if(i.value==""||d<1){console.error("Quantité invalide"),u.text="Mauvaise quantité",u.display=!0;return}c.addFoodToFridge(r,d).then(o=>{if(o.status==0){console.error("Erreur lors de l'ajout de l'article:",r);return}u.text=r.name+" ajouté au frigo",u.display=!0}).catch(o=>{console.error("Erreur lors de l'ajout de l'article:",o)})}return(r,i)=>{const d=Fe("v-number-input");return V(),j(q,null,{default:n(()=>[a(F,null,{default:n(()=>[a(E,{cols:"12"},{default:n(()=>[a(D,{class:"mx-auto",color:"tertiary"},{default:n(()=>[a(L,null,{default:n(()=>[m("Produits disponibles")]),_:1}),a(Ee,{loading:r.loading,"append-inner-icon":"mdi-magnify",density:"compact",label:"Search templates",variant:"solo","hide-details":"","single-line":"","onClick:appendInner":r.onClick},null,8,["loading","onClick:appendInner"]),a(q,{class:"supermarket-list"},{default:n(()=>[a(F,null,{default:n(()=>[(V(!0),O(G,null,Re(f(t),o=>(V(),j(E,{key:o.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:n(()=>[a(D,{outlined:"",class:"pt-5"},{default:n(()=>[a(Me,{src:o.photo,height:"150px"},null,8,["src"]),a(L,null,{default:n(()=>[m(A(o.name),1)]),_:2},1024),a(ne,null,{default:n(()=>[a(d,{id:""+o.id,rules:f(s),min:1,max:20,"control-variant":"split",label:"Quantité","model-value":1,clearable:""},null,8,["id","rules"])]),_:2},1024),a(se,null,{default:n(()=>[a(te),a(Q,{color:"success",onClick:_=>v(o),class:"m-1 pr-3"},{prepend:n(()=>[a(K,{class:"mr-2"},{default:n(()=>[m("mdi-plus-circle")]),_:1}),m(" Acheter ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),a(Ne)]),_:1})]),_:1})]),_:1}),a($e,{modelValue:f(u).display,"onUpdate:modelValue":i[1]||(i[1]=o=>f(u).display=o),color:"tertiary"},{actions:n(()=>[a(Q,{color:"accent",variant:"text",onClick:i[0]||(i[0]=o=>f(u).display=!1)},{default:n(()=>[m(" Fermer ")]),_:1})]),default:n(()=>[m(A(f(u).text)+" ",1)]),_:1},8,["modelValue"])]),_:1})}}},Ge=Y(Oe,[["__scopeId","data-v-24c515a0"]]),Ke=e=>(je("data-v-4d45cf6c"),e=e(),qe(),e),Ue=Ke(()=>Ae("span",{class:"text-h4"},"Bienvenue au Supermarché",-1)),He={__name:"Supermarket",setup(e){return(c,t)=>(V(),O(G,null,[a(K,{color:"warning",id:"main-icon"},{default:n(()=>[m("mdi-cart-outline")]),_:1}),Ue,a(Ge)],64))}},ze=Y(He,[["__scopeId","data-v-4d45cf6c"]]);export{ze as default};
