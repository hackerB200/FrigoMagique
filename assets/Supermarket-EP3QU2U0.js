import{s as q,b as D,c as L}from"./VSnackbar-D4VHZKWM.js";import{_ as C,V as h,a as V,c as P,d as Q}from"./VCard-Cdv3d2iQ.js";import{a as v,V as i}from"./VRow-DbBQKftb.js";import{a2 as y,b0 as j,aQ as A,r as M,o as c,c as g,w as t,a as e,d as n,aX as N,E as x,b1 as I,a6 as S,b3 as $,aZ as u,b5 as J,b4 as b,J as k,a7 as B,V as R,p as U,e as X,b as Z}from"./index-D9JwMQmK.js";const z={__name:"DisplayStand",setup(d){const p=new q;let m=y([]),f=y([]),E=[a=>!!a||"Champ requis"],r=j({text:"",display:!1});A(()=>{F(),document.getElementById("searchInput").addEventListener("keyup",a=>{a.key==="Enter"&&_()})});function w(){document.getElementById("searchInput").value="",_()}function F(){let a=p.getProducts();m.value=a,f.value=a}function T(a){let s=document.getElementById(a.id);const o=parseInt(s.value);if(s.value==""||o<1){console.error("Quantité invalide"),r.text="Mauvaise quantité",r.display=!0;return}p.addFoodToFridge(a,o).then(l=>{if(l.status==0){console.error("Erreur lors de l'ajout de l'article:",a);return}r.text=a.name+" ajouté au frigo",r.display=!0}).catch(l=>{console.error("Erreur lors de l'ajout de l'article:",l)})}function _(){let a=document.getElementById("searchInput").value,s=m.value.filter(o=>a==""?!0:o.name.toLowerCase().includes(a.toLowerCase()));s.length==0&&(r.text="Aucun résultat trouvé",r.display=!0),f.value=s}return(a,s)=>{const o=M("v-number-input");return c(),g(x,null,{default:t(()=>[e(v,null,{default:t(()=>[e(i,{cols:"12"},{default:t(()=>[e(h,{class:"mx-auto",color:"tertiary"},{default:t(()=>[e(v,{align:"center"},{default:t(()=>[e(i,{cols:"4"},{default:t(()=>[e(V,null,{default:t(()=>[n("Produits disponibles")]),_:1})]),_:1}),e(i,{cols:"6"},{default:t(()=>[e(N,{id:"searchInput","prepend-inner-icon":"mdi-magnify",density:"compact",label:"Chercher dans le supermarché",variant:"solo","hide-details":"","single-line":"","onClick:prependInner":_,"onClick:clear":w,clearable:""})]),_:1})]),_:1}),e(x,{class:"supermarket-list"},{default:t(()=>[e(v,null,{default:t(()=>[(c(!0),I(S,null,$(u(f),l=>(c(),g(i,{key:l.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e(h,{outlined:"",class:"pt-5"},{default:t(()=>[e(J,{src:l.photo,height:"150px"},null,8,["src"]),e(V,null,{default:t(()=>[n(b(l.name),1)]),_:2},1024),e(P,null,{default:t(()=>[e(o,{id:""+l.id,rules:u(E),min:1,max:20,"control-variant":"split",label:"Quantité","model-value":1,clearable:""},null,8,["id","rules"])]),_:2},1024),e(Q,null,{default:t(()=>[e(D),e(k,{color:"success",onClick:W=>T(l),class:"m-1 pr-3"},{prepend:t(()=>[e(B,{class:"mr-2"},{default:t(()=>[n("mdi-plus-circle")]),_:1}),n(" Acheter ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(R)]),_:1})]),_:1})]),_:1}),e(L,{modelValue:u(r).display,"onUpdate:modelValue":s[1]||(s[1]=l=>u(r).display=l),color:"tertiary"},{actions:t(()=>[e(k,{color:"accent",variant:"text",onClick:s[0]||(s[0]=l=>u(r).display=!1)},{default:t(()=>[n(" Fermer ")]),_:1})]),default:t(()=>[n(b(u(r).text)+" ",1)]),_:1},8,["modelValue"])]),_:1})}}},G=C(z,[["__scopeId","data-v-1312b851"]]),H=d=>(U("data-v-4d45cf6c"),d=d(),X(),d),K=H(()=>Z("span",{class:"text-h4"},"Bienvenue au Supermarché",-1)),O={__name:"Supermarket",setup(d){return(p,m)=>(c(),I(S,null,[e(B,{color:"warning",id:"main-icon"},{default:t(()=>[n("mdi-cart-outline")]),_:1}),K,e(G)],64))}},le=C(O,[["__scopeId","data-v-4d45cf6c"]]);export{le as default};
