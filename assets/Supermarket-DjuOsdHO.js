import{m as z,a as L,s as ee,b as ae}from"./VOverlay-CHU0xr0N.js";import{_ as Q,V as D,a as F,c as te,d as ne}from"./VCard-7x36R9LG.js";import{a as P,V as S}from"./VRow-DNx7NfIH.js";import{f as se,j as le,k as re,l as oe,ar as ie,q as ue,af as ce,s as de,W as me,B as ve,aG as fe,t as pe,ax as _e,C as ye,a2 as h,a1 as I,a9 as ke,b7 as be,aP as he,ao as R,aQ as Y,b8 as Ve,Y as ge,D as Ce,a,aB as Se,b9 as xe,aD as we,K as A,aI as Pe,ae as Ie,ba as Te,aL as Be,_ as Ee,b0 as Le,r as De,o as x,c as M,w as t,d as v,aX as Fe,E as N,b1 as $,a6 as O,b3 as Re,aZ as _,b5 as Ae,b4 as j,J as q,a7 as G,V as Me,p as Ne,e as je,b as qe}from"./index-ClP4immm.js";function Qe(e){const c=I(e);let l=-1;function n(){clearInterval(l)}function y(){n(),Ie(()=>c.value=e)}function i(f){const k=f?getComputedStyle(f):{transitionDuration:.2},p=parseFloat(k.transitionDuration)*1e3||200;if(n(),c.value<=0)return;const m=performance.now();l=window.setInterval(()=>{const s=performance.now()-m+p;c.value=Math.max(e-s,0),c.value<=0&&n()},p)}return Ee(n),{clear:n,time:c,start:i,reset:y}}const Ye=se({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...le({location:"bottom"}),...re(),...oe(),...ie(),...ue(),...ce(z({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),$e=de()({name:"VSnackbar",props:Ye(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:l}=c;const n=me(e,"modelValue"),{positionClasses:y}=ve(e),{scopeId:i}=fe(),{themeClasses:f}=pe(e),{colorClasses:k,colorStyles:p,variantClasses:m}=_e(e),{roundedClasses:s}=ye(e),r=Qe(Number(e.timeout)),d=h(),o=h(),V=I(!1),T=I(0),B=h(),K=ke(be,void 0);he(()=>!!K,()=>{const u=Te();Be(()=>{B.value=u.mainStyles.value})}),R(n,g),R(()=>e.timeout,g),Y(()=>{n.value&&g()});let w=-1;function g(){r.reset(),window.clearTimeout(w);const u=Number(e.timeout);if(!n.value||u===-1)return;const b=Ve(o.value);r.start(b),w=window.setTimeout(()=>{n.value=!1},u)}function U(){r.reset(),window.clearTimeout(w)}function H(){V.value=!0,U()}function J(){V.value=!1,g()}function W(u){T.value=u.touches[0].clientY}function X(u){Math.abs(T.value-u.changedTouches[0].clientY)>50&&(n.value=!1)}const Z=ge(()=>e.location.split(" ").reduce((u,b)=>(u[`v-snackbar--${b}`]=!0,u),{}));return Ce(()=>{const u=L.filterProps(e),b=!!(l.default||l.text||e.text);return a(L,A({ref:d,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},Z.value,y.value,e.class],style:[B.value,e.style]},u,{modelValue:n.value,"onUpdate:modelValue":C=>n.value=C,contentProps:A({class:["v-snackbar__wrapper",f.value,k.value,s.value,m.value],style:[p.value],onPointerenter:H,onPointerleave:J},u.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:W,onTouchend:X},i),{default:()=>{var C,E;return[Se(!1,"v-snackbar"),e.timer&&!V.value&&a("div",{key:"timer",class:"v-snackbar__timer"},[a(xe,{ref:o,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":r.time.value},null)]),b&&a("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((C=l.text)==null?void 0:C.call(l))??e.text,(E=l.default)==null?void 0:E.call(l)]),l.actions&&a(we,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[a("div",{class:"v-snackbar__actions"},[l.actions({isActive:n})])]})]},activator:l.activator})}),Pe({},d)}}),Oe={__name:"DisplayStand",setup(e){const c=new ee;let l=h([]),n=h([]),y=[s=>!!s||"Champ requis"],i=Le({text:"",display:!1});Y(()=>{k(),document.getElementById("searchInput").addEventListener("keyup",s=>{s.key==="Enter"&&m()})});function f(){document.getElementById("searchInput").value="",m()}function k(){let s=c.getProducts();l.value=s,n.value=s}function p(s){let r=document.getElementById(s.id);const d=parseInt(r.value);if(r.value==""||d<1){console.error("Quantité invalide"),i.text="Mauvaise quantité",i.display=!0;return}c.addFoodToFridge(s,d).then(o=>{if(o.status==0){console.error("Erreur lors de l'ajout de l'article:",s);return}i.text=s.name+" ajouté au frigo",i.display=!0}).catch(o=>{console.error("Erreur lors de l'ajout de l'article:",o)})}function m(){let s=document.getElementById("searchInput").value,r=l.value.filter(d=>s==""?!0:d.name.toLowerCase().includes(s.toLowerCase()));r.length==0&&(i.text="Aucun résultat trouvé",i.display=!0),n.value=r}return(s,r)=>{const d=De("v-number-input");return x(),M(N,null,{default:t(()=>[a(P,null,{default:t(()=>[a(S,{cols:"12"},{default:t(()=>[a(D,{class:"mx-auto",color:"tertiary"},{default:t(()=>[a(P,{align:"center"},{default:t(()=>[a(S,{cols:"4"},{default:t(()=>[a(F,null,{default:t(()=>[v("Produits disponibles")]),_:1})]),_:1}),a(S,{cols:"6"},{default:t(()=>[a(Fe,{id:"searchInput","prepend-inner-icon":"mdi-magnify",density:"compact",label:"Chercher dans le supermarché",variant:"solo","hide-details":"","single-line":"","onClick:prependInner":m,"onClick:clear":f,clearable:""})]),_:1})]),_:1}),a(N,{class:"supermarket-list"},{default:t(()=>[a(P,null,{default:t(()=>[(x(!0),$(O,null,Re(_(n),o=>(x(),M(S,{key:o.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[a(D,{outlined:"",class:"pt-5"},{default:t(()=>[a(Ae,{src:o.photo,height:"150px"},null,8,["src"]),a(F,null,{default:t(()=>[v(j(o.name),1)]),_:2},1024),a(te,null,{default:t(()=>[a(d,{id:""+o.id,rules:_(y),min:1,max:20,"control-variant":"split",label:"Quantité","model-value":1,clearable:""},null,8,["id","rules"])]),_:2},1024),a(ne,null,{default:t(()=>[a(ae),a(q,{color:"success",onClick:V=>p(o),class:"m-1 pr-3"},{prepend:t(()=>[a(G,{class:"mr-2"},{default:t(()=>[v("mdi-plus-circle")]),_:1}),v(" Acheter ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),a(Me)]),_:1})]),_:1})]),_:1}),a($e,{modelValue:_(i).display,"onUpdate:modelValue":r[1]||(r[1]=o=>_(i).display=o),color:"tertiary"},{actions:t(()=>[a(q,{color:"accent",variant:"text",onClick:r[0]||(r[0]=o=>_(i).display=!1)},{default:t(()=>[v(" Fermer ")]),_:1})]),default:t(()=>[v(j(_(i).text)+" ",1)]),_:1},8,["modelValue"])]),_:1})}}},Ge=Q(Oe,[["__scopeId","data-v-ea736a3e"]]),Ke=e=>(Ne("data-v-4d45cf6c"),e=e(),je(),e),Ue=Ke(()=>qe("span",{class:"text-h4"},"Bienvenue au Supermarché",-1)),He={__name:"Supermarket",setup(e){return(c,l)=>(x(),$(O,null,[a(G,{color:"warning",id:"main-icon"},{default:t(()=>[v("mdi-cart-outline")]),_:1}),Ue,a(Ge)],64))}},ze=Q(He,[["__scopeId","data-v-4d45cf6c"]]);export{ze as default};
